fg.base.namespace("fg.layouts");fg.layouts.aside=function(window,$,fg){var $body=$("body");var $layout=$(".js-layout");var $layoutBackdrop=$(".js-layout-backdrop");function bindMainMenu(){var $button=$(".js-main-menu");$button.off("click",handleMainMenu).on("click",handleMainMenu)}function handleMainMenu($button){if($body.hasClass("menu--open")){hideMainMenu()}else{$layoutBackdrop.fadeIn(250,function(){$body.addClass("menu--open")})}if($layout.hasClass("layout--mobile")){$layout.addClass("layout--mobile--menu-open")}else{$layout.removeClass("layout--mobile--menu-open")}bindHidingMainMenu()}function bindHidingMainMenu(){$layoutBackdrop.off("click",hideMainMenu).on("click",hideMainMenu)}function hideMainMenu(){$body.removeClass("menu--open");$layout.removeClass("layout--mobile--menu-open");$layoutBackdrop.delay(350).fadeOut(250)}function init(){bindMainMenu()}return{init:init}}(window,jQuery,fg);fg.base.observer.subscribe("/start",fg.layouts.aside.init);fg.base.namespace("fg.layouts");fg.layouts.footer=function(window,$,fg){function init(){var $popover=$(".js-popover-wechat").popover({container:"body",html:true,placement:"top",trigger:"focus",delay:{show:250},content:function(){return'<img src="'+$(this).data("img")+'" height="188px" width="188px" />'}});$(".js-popover-wechat").on("click",function(){var img=new Image;img.src=$(this).data("img");img.onload=function(){$popover.popover("toggle")}})}return{init:init}}(window,jQuery,fg);fg.base.observer.subscribe("/start",fg.layouts.footer.init);fg.base.namespace("fg.layouts");fg.layouts.header=function(window,$,fg){function bindShrinkHeader(){var shrinkHeader;var $siteHead=$(".js-site-head");if($siteHead.hasClass("site-head--shrinked"))shrinkHeader=0;else shrinkHeader=170;$(window).on("scroll",function(){var scroll=getCurrentScroll();if(scroll>shrinkHeader)$(".js-site-head-nav").addClass("is-shrinked");else $(".js-site-head-nav").removeClass("is-shrinked")})}function getCurrentScroll(){return window.pageYOffset||document.documentElement.scrollTop}function fluidDialog(){var $visible=$(".ui-dialog:visible");$visible.each(function(){var $this=$(this);var dialog=$this.find(".ui-dialog-content").data("ui-dialog");if(dialog.options.fluid){var wWidth=$(window).width();if(wWidth<parseInt(dialog.options.maxWidth)+50){$this.css("max-width","90%")}else{$this.css("max-width",dialog.options.maxWidth+"px")}dialog.option("position",dialog.options.position)}})}function init(){bindShrinkHeader();fg.components.autocomplete.init();fg.components.carousel.init();fg.components.filter.init();fg.components.scrollbar.init();fg.components.tooltip.init();$(".js-site-search").on("click",function(e){e.preventDefault();var $this=$(this);var $search=$this.find(".js-autocomplete");$this.addClass("is-open");$search.focus();$this.closest(".js-site-head-nav").find(".js-dropdown").removeClass("is-open")});$(".js-btn-toggle").off("click").on("click",function(){var $this=$(this);$this.toggleClass("is-active");$(document).trigger("buttonToggled")});$(".js-site-search .js-autocomplete").on("blur",function(){var $this=$(this);var $search=$this.closest(".js-site-search");$this.val("").autocomplete("destroy");$search.removeClass("is-open")});$(".js-dropdown").on("click",function(e){e.stopPropagation();var $this=$(this);$(".js-dropdown").not($this).removeClass("is-open");$this.toggleClass("is-open");if($(".js-top-cart").is(":visible"))$(".js-top-cart").removeClass("is-open")});$(document).on("click",function(e){if(!$(e.target).closest(".js-dropdown").length){if($(".js-dropdown").is(":visible"))$(".js-dropdown").removeClass("is-open")}if(!$(e.target).closest(".js-top-cart").length){if($(".js-top-cart").is(":visible"))$(".js-top-cart").removeClass("is-open")}});$(".js-select2").select2({dropdownCssClass:"select__dropdown"});$(window).on("resize",function(){fluidDialog()});$(document).on("dialogopen",".ui-dialog",function(event,ui){fluidDialog()});fg.components.stickit.init({targetElement:".js-layout-aside",topElement:".js-site-head-nav",bottomElement:".js-site-foot",bottomOffset:20,topOffset:20})}return{init:init}}(window,jQuery,fg);fg.base.observer.subscribe("/start",fg.layouts.header.init);
//# sourceMappingURL=build/static/compiled/js/layouts.min.js.map